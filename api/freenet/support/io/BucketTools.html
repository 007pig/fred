<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_18) on Fri Mar 26 03:26:52 GMT 2010 -->
<TITLE>
BucketTools
</TITLE>

<META NAME="date" CONTENT="2010-03-26">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BucketTools";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../freenet/support/io/BucketChainBucketFactory.html" title="class in freenet.support.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../freenet/support/io/ByteArrayRandomAccessThing.html" title="class in freenet.support.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?freenet/support/io/BucketTools.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BucketTools.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
freenet.support.io</FONT>
<BR>
Class BucketTools</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>freenet.support.io.BucketTools</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>BucketTools</B><DT>extends <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Helper functions for working with Buckets.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#BucketTools()">BucketTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#copy(freenet.support.api.Bucket, freenet.support.api.Bucket)">copy</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;src,
     <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;dst)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy from the input stream of <code>src</code> to the output stream of
 <code>dest</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#copyFrom(freenet.support.api.Bucket, java.io.InputStream, long)">copyFrom</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;bucket,
         <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;is,
         long&nbsp;truncateLength)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy data from an InputStream into a Bucket.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#copyTo(freenet.support.api.Bucket, java.io.OutputStream, long)">copyTo</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;decodedData,
       <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;os,
       long&nbsp;truncateLength)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy the given quantity of data from the given bucket to the given OutputStream.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#hash(freenet.support.api.Bucket)">hash</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#makeBuckets(freenet.support.api.BucketFactory, int, int)">makeBuckets</A></B>(<A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bf,
            int&nbsp;count,
            int&nbsp;size)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#makeImmutableBucket(freenet.support.api.BucketFactory, byte[])">makeImmutableBucket</A></B>(<A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bucketFactory,
                    byte[]&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#makeImmutableBucket(freenet.support.api.BucketFactory, byte[], int)">makeImmutableBucket</A></B>(<A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bucketFactory,
                    byte[]&nbsp;data,
                    int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#nonNullBuckets(freenet.support.api.Bucket[])">nonNullBuckets</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[]&nbsp;array)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#nonNullIndices(freenet.support.api.Bucket[])">nonNullIndices</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[]&nbsp;array)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#nullIndices(freenet.support.api.Bucket[])">nullIndices</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[]&nbsp;array)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#pad(freenet.support.api.Bucket, int, freenet.support.api.BucketFactory, int)">pad</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;oldBucket,
    int&nbsp;blockLength,
    <A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bf,
    int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pad a bucket with random data</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#paddedCopy(freenet.support.api.Bucket, freenet.support.api.Bucket, long, int)">paddedCopy</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;from,
           <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;to,
           long&nbsp;nBytes,
           int&nbsp;blockSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#split(freenet.support.api.Bucket, int, freenet.support.api.BucketFactory, boolean, boolean, com.db4o.ObjectContainer)">split</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;origData,
      int&nbsp;splitSize,
      <A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bf,
      boolean&nbsp;freeData,
      boolean&nbsp;persistent,
      com.db4o.ObjectContainer&nbsp;container)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Split the data into a series of read-only Bucket's.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#toByteArray(freenet.support.api.Bucket)">toByteArray</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;bucket)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read the entire bucket in as a byte array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#toByteArray(freenet.support.api.Bucket, byte[])">toByteArray</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;bucket,
            byte[]&nbsp;output)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../freenet/support/io/BucketTools.html#zeroPad(freenet.support.api.Bucket, long)">zeroPad</A></B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;b,
        long&nbsp;size)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BucketTools()"><!-- --></A><H3>
BucketTools</H3>
<PRE>
public <B>BucketTools</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="copy(freenet.support.api.Bucket, freenet.support.api.Bucket)"><!-- --></A><H3>
copy</H3>
<PRE>
public static final void <B>copy</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;src,
                              <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;dst)
                       throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Copy from the input stream of <code>src</code> to the output stream of
 <code>dest</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>src</CODE> - <DD><CODE>dst</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="zeroPad(freenet.support.api.Bucket, long)"><!-- --></A><H3>
zeroPad</H3>
<PRE>
public static final void <B>zeroPad</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;b,
                                 long&nbsp;size)
                          throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="paddedCopy(freenet.support.api.Bucket, freenet.support.api.Bucket, long, int)"><!-- --></A><H3>
paddedCopy</H3>
<PRE>
public static final void <B>paddedCopy</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;from,
                                    <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;to,
                                    long&nbsp;nBytes,
                                    int&nbsp;blockSize)
                             throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="makeBuckets(freenet.support.api.BucketFactory, int, int)"><!-- --></A><H3>
makeBuckets</H3>
<PRE>
public static <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[] <B>makeBuckets</B>(<A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bf,
                                   int&nbsp;count,
                                   int&nbsp;size)
                            throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="nullIndices(freenet.support.api.Bucket[])"><!-- --></A><H3>
nullIndices</H3>
<PRE>
public static final int[] <B>nullIndices</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[]&nbsp;array)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="nonNullIndices(freenet.support.api.Bucket[])"><!-- --></A><H3>
nonNullIndices</H3>
<PRE>
public static final int[] <B>nonNullIndices</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[]&nbsp;array)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="nonNullBuckets(freenet.support.api.Bucket[])"><!-- --></A><H3>
nonNullBuckets</H3>
<PRE>
public static final <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[] <B>nonNullBuckets</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[]&nbsp;array)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toByteArray(freenet.support.api.Bucket)"><!-- --></A><H3>
toByteArray</H3>
<PRE>
public static final byte[] <B>toByteArray</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;bucket)
                                throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Read the entire bucket in as a byte array.
 Not a good idea unless it is very small!
 Don't call if concurrent writes may be happening.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - If there was an error reading from the bucket.
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/OutOfMemoryError.html?is-external=true" title="class or interface in java.lang">OutOfMemoryError</A></CODE> - If it was not possible to allocate enough 
 memory to contain the entire bucket.</DL>
</DD>
</DL>
<HR>

<A NAME="toByteArray(freenet.support.api.Bucket, byte[])"><!-- --></A><H3>
toByteArray</H3>
<PRE>
public static int <B>toByteArray</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;bucket,
                              byte[]&nbsp;output)
                       throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="makeImmutableBucket(freenet.support.api.BucketFactory, byte[])"><!-- --></A><H3>
makeImmutableBucket</H3>
<PRE>
public static <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A> <B>makeImmutableBucket</B>(<A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bucketFactory,
                                         byte[]&nbsp;data)
                                  throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="makeImmutableBucket(freenet.support.api.BucketFactory, byte[], int)"><!-- --></A><H3>
makeImmutableBucket</H3>
<PRE>
public static <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A> <B>makeImmutableBucket</B>(<A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bucketFactory,
                                         byte[]&nbsp;data,
                                         int&nbsp;length)
                                  throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="hash(freenet.support.api.Bucket)"><!-- --></A><H3>
hash</H3>
<PRE>
public static byte[] <B>hash</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;data)
                   throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="copyTo(freenet.support.api.Bucket, java.io.OutputStream, long)"><!-- --></A><H3>
copyTo</H3>
<PRE>
public static long <B>copyTo</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;decodedData,
                          <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</A>&nbsp;os,
                          long&nbsp;truncateLength)
                   throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Copy the given quantity of data from the given bucket to the given OutputStream.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - If there was an error reading from the bucket or writing to the stream.</DL>
</DD>
</DL>
<HR>

<A NAME="copyFrom(freenet.support.api.Bucket, java.io.InputStream, long)"><!-- --></A><H3>
copyFrom</H3>
<PRE>
public static void <B>copyFrom</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;bucket,
                            <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</A>&nbsp;is,
                            long&nbsp;truncateLength)
                     throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Copy data from an InputStream into a Bucket.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="split(freenet.support.api.Bucket, int, freenet.support.api.BucketFactory, boolean, boolean, com.db4o.ObjectContainer)"><!-- --></A><H3>
split</H3>
<PRE>
public static <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>[] <B>split</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;origData,
                             int&nbsp;splitSize,
                             <A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bf,
                             boolean&nbsp;freeData,
                             boolean&nbsp;persistent,
                             com.db4o.ObjectContainer&nbsp;container)
                      throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Split the data into a series of read-only Bucket's.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>origData</CODE> - The original data Bucket.<DD><CODE>splitSize</CODE> - The number of bytes to put into each bucket.

 If the passed-in Bucket is a FileBucket, will be efficiently
 split into ReadOnlyFileSliceBuckets, otherwise new buckets are created
 and the data written to them.
 
 Note that this method will allocate a buffer of size splitSize.<DD><CODE>freeData</CODE> - <DD><CODE>persistent</CODE> - If true, the data is persistent. This method is responsible for ensuring that the returned
 buckets HAVE ALREADY BEEN STORED TO THE DATABASE, using the provided handle. The point? SegmentedBCB's buckets
 have already been stored!!<DD><CODE>container</CODE> - Database handle, only needed if persistent = true.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - If there is an error creating buckets, reading from
 the provided bucket, or writing to created buckets.</DL>
</DD>
</DL>
<HR>

<A NAME="pad(freenet.support.api.Bucket, int, freenet.support.api.BucketFactory, int)"><!-- --></A><H3>
pad</H3>
<PRE>
public static <A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A> <B>pad</B>(<A HREF="../../../freenet/support/api/Bucket.html" title="interface in freenet.support.api">Bucket</A>&nbsp;oldBucket,
                         int&nbsp;blockLength,
                         <A HREF="../../../freenet/support/api/BucketFactory.html" title="interface in freenet.support.api">BucketFactory</A>&nbsp;bf,
                         int&nbsp;length)
                  throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Pad a bucket with random data
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>oldBucket</CODE> - <DD><CODE>blockLength</CODE> - <DD><CODE>BucketFactory</CODE> - <DD><CODE>length</CODE> - 
<DT><B>Returns:</B><DD>the paded bucket
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../freenet/support/io/BucketChainBucketFactory.html" title="class in freenet.support.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../freenet/support/io/ByteArrayRandomAccessThing.html" title="class in freenet.support.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?freenet/support/io/BucketTools.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BucketTools.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
